hw-05
================

Factors
-------

Factors, like other vectors, can be manipulated with `dplyr` functions like arrange(). However, applying the arrange() function to factors doesn't alter their position in a `ggplot` figure. If we wanted to visualize life expectancy in Asian countries in 2007, the figure looks the same regardless of whether the data frame is arranged by life expectancy or country name. These changes only apply to the tabulated data.

``` r
nlevels(gapminder$country)
```

    ## [1] 142

``` r
americas_1997 <- gapminder %>% 
  filter(continent == "Americas", year == 1997)



americas_1997 %>% 
  arrange(gdpPercap) %>% 
  ggplot(aes(gdpPercap, country)) +
  geom_point()
```

![](hw05_files/figure-markdown_github/unnamed-chunk-1-1.png)

``` r
#or
americas_1997 %>% 
  arrange(country) %>% 
  ggplot(aes(gdpPercap, country)) +
  geom_point()
```

![](hw05_files/figure-markdown_github/unnamed-chunk-1-2.png)

Using the `forcats` package, factors can be manipulated in some useful ways. We can reorder the above figure to better represent the data (order)

``` r
americas_1997 %>% 
    mutate(country = fct_reorder(country, gdpPercap)) %>% 
    ggplot(aes(gdpPercap, country)) + 
    geom_point()
```

![](hw05_files/figure-markdown_github/unnamed-chunk-2-1.png)

We can see that, even with the countries outside of the Americas filtered off, the levels corresponding to those countries are still in the factor.

``` r
americas_1997$country %>% 
  nlevels()
```

    ## [1] 142

``` r
americas_1997$country %>% 
  head()
```

    ## [1] Argentina Bolivia   Brazil    Canada    Chile     Colombia 
    ## 142 Levels: Afghanistan Albania Algeria Angola Argentina ... Zimbabwe

We can drop the unused levels

``` r
americas_1997 %>% 
  mutate(country = fct_drop(country)) %>% 
  str()
```

    ## Classes 'tbl_df', 'tbl' and 'data.frame':    25 obs. of  6 variables:
    ##  $ country  : Factor w/ 25 levels "Argentina","Bolivia",..: 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ continent: Factor w/ 5 levels "Africa","Americas",..: 2 2 2 2 2 2 2 2 2 2 ...
    ##  $ year     : int  1997 1997 1997 1997 1997 1997 1997 1997 1997 1997 ...
    ##  $ lifeExp  : num  73.3 62 69.4 78.6 75.8 ...
    ##  $ pop      : int  36203463 7693188 168546719 30305843 14599929 37657830 3518107 10983007 7992357 11911819 ...
    ##  $ gdpPercap: num  10967 3326 7958 28955 10118 ...
